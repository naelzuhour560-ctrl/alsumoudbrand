<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background: #f2f2f2;
    }

    h1 {
      text-align: center;
      background: black;
      color: white;
      padding: 20px;
      margin: 0;
    }

    .cart-container {
      max-width: 800px;
      margin: 40px auto;
      background: white;
      padding: 20px;
      border: 5px solid black;
    }

    .cart-item {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
      border-bottom: 2px solid #ccc;
      padding-bottom: 10px;
    }

    .cart-item img {
      width: 120px;
      height: 100px;
      margin-right: 20px;
      border: 4px solid black;
    }

    .cart-details {
      flex-grow: 1;
    }

    .cart-details h3 {
      margin: 0 0 5px;
    }

    .cart-details p {
      margin: 0;
    }

    .quantity-input {
      width: 60px;
      padding: 5px;
      font-size: 16px;
      margin-top: 10px;
    }

    .empty-message {
      text-align: center;
      font-size: 20px;
      color: gray;
    }
    .cart-actions {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-left: 20px;
  min-width: 100px;
  align-items: flex-start;
}

.size-buttons, .quantity-buttons {
  display: flex;
  gap: 5px;
  align-items: center;
}

.size-btn, .delete-btn {
  cursor: pointer;
  padding: 5px 10px;
  border: 2px solid black;
  background-color: white;
  font-weight: bold;
  user-select: none;
  transition: background-color 0.3s;
}

.qty-btn {
  cursor: pointer;
  padding: 5px 10px;
  border: 2px solid black; 
  background-color: white;
  font-weight: bold;
  user-select: none;
    display: flex;
  gap: 5px;
  align-items: center;
  transition: background-color 0.3s;
}
.size-btn.selected, .qty-btn:hover{
  background-color: yellow;
}

.delete-btn {
  background-color: transparent;  
  color: black;                   
  border: 5px solid red;                  
  font-size: 16px;
  align-self: center;
  cursor: pointer;               
  padding: 0;
  line-height: 30px;
  text-align: center;
}
  .size-display {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .size-buttons {
    display: flex;
    gap: 5px;
  }
  .back-button {
      position: fixed;
      top: 20px;
      left: 20px;
      background-color: transparent;
      border: none;
      font-size: 30px;
      cursor: pointer;
      color: white;
        z-index: 1000;
    text-decoration: none; }
  </style>
</head>
<body>
   <button class="back-button" onclick="history.back()">&#8592;</button>
  <h1>Your Cart</h1>
   <div class="cart-container" id="cart-items">
    <p class="empty-message">Your cart is empty.</p>
  </div>

  <script>
    const cartItemsContainer = document.getElementById('cart-items');
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    function renderCart() {
      cartItemsContainer.innerHTML = '';
      if (cart.length === 0) {
        cartItemsContainer.innerHTML = '<p class="empty-message">Your cart is empty.</p>';
        return;
      }

      cart.forEach((item, index) => {
        const itemDiv = document.createElement('div');
        itemDiv.className = 'cart-item';

       itemDiv.innerHTML = `
  <img src="${item.image}" alt="${item.name}">
  <div class="info-container" style="flex-grow: 1;">
    <div class="cart-details">
      <h3>${item.name}</h3>
      <p class="size-display">
        Size: ${item.size}
        <span class="size-buttons">
          <button class="size-btn" data-size="Small">S</button>
          <button class="size-btn" data-size="Medium">M</button>
          <button class="size-btn" data-size="Large">L</button>
        </span>
      </p>
      <p class="quantity-display">
        Quantity: 
        <span class="quantity-buttons">
          <button class="qty-btn" data-action="decrease">-</button>
          <span class="qty-value">${item.quantity}</span>
          <button class="qty-btn" data-action="increase">+</button>
        </span>
      </p>
      <p class="total-price">Total Price: $${(item.price * item.quantity).toFixed(2)}</p>
    </div>
  </div>
  <button class="delete-btn">Delete</button>
`;
        const sizeButtons = itemDiv.querySelectorAll('.size-btn');
        const qtyButtons = itemDiv.querySelectorAll('.qty-btn');
        const qtyValue = itemDiv.querySelector('.qty-value');
        const sizeDisplay = itemDiv.querySelector('.size-display');
        const quantityDisplay = itemDiv.querySelector('.quantity-display');
        const totalPriceElem = itemDiv.querySelector('.total-price');
        const deleteBtn = itemDiv.querySelector('.delete-btn');

        sizeButtons.forEach(btn => {
          if (btn.dataset.size === item.size) btn.classList.add('selected');
          btn.addEventListener('click', () => {
            sizeButtons.forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
            item.size = btn.dataset.size;
            sizeDisplay.textContent = `Size: ${item.size}`;
            cart[index] = item;
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
          });
        });

       
        qtyButtons.forEach(btn => {
          btn.addEventListener('click', () => {
            if (btn.dataset.action === 'increase') {
              item.quantity++;
            } else if (btn.dataset.action === 'decrease' && item.quantity > 1) {
              item.quantity--;
            }
            qtyValue.textContent = item.quantity;
            quantityDisplay.textContent = `Quantity: ${item.quantity}`;
            totalPriceElem.textContent = `Total Price: $${(item.price * item.quantity).toFixed(2)}`;
            cart[index] = item;
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
          });
        });

       
        deleteBtn.addEventListener('click', () => {
          if (confirm('Remove this item from the cart?')) {
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
          }
        });

        cartItemsContainer.appendChild(itemDiv);
      });
    }

    renderCart();
  </script>
</body>
</html>